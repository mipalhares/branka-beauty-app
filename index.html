<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Branka Beauty Experience</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#f472b6">
  <link rel="icon" href="/logo.png">
  <script>
    // Register service worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('Service Worker registered at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' })))
          .catch(err => console.error('Service Worker registration failed at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), err));
      });
    }
  </script>
</head>
<body class="bg-gray-100 font-sans">
  <!-- Header with Logo -->
  <header class="bg-pink-600 text-white p-4 shadow-md">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center">
        <img src="/logo.png" alt="Branka Beauty Logo" class="h-12 w-12 mr-2" onerror="this.src='https://via.placeholder.com/48?text=Logo'; console.error('Logo load failed at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ': Error details - Check if /logo.png exists in', window.location.pathname, 'and is a valid PNG. Current file size:', this.naturalWidth, 'x', this.naturalHeight);">
        <h1 class="text-2xl font-bold">Branka Beauty</h1>
      </div>
      <div class="flex space-x-4">
        <a id="instagramLink" href="https://www.instagram.com/brankabeauty/" target="_blank" class="hover:underline">Instagram</a>
        <a id="websiteLink" href="https://www.brankabeauty.com.br/" target="_blank" class="hover:underline">Site</a>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="bg-pink-100 py-12 text-center">
    <div class="container mx-auto">
      <h2 class="text-3xl font-bold mb-4">Viva Sua Beleza com Branka Beauty</h2>
      <p class="text-lg mb-6">Descubra looks incr√≠veis, experimente maquiagens e conecte-se com nossa comunidade!</p>
      <a href="#quiz" class="bg-pink-600 text-white px-6 py-3 rounded-full hover:bg-pink-700">Fa√ßa o Quiz de Beleza</a>
    </div>
  </section>

  <!-- Featured Products -->
  <section class="py-12 bg-white">
    <div class="container mx-auto text-center">
      <h2 class="text-2xl font-bold mb-6">Destaques da Branka Beauty</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <div class="bg-gray-100 p-4 rounded">
          <img src="https://via.placeholder.com/150?text=Esponja" alt="Esponja Flat Blend" class="w-full h-40 object-cover rounded">
          <h3 class="text-lg font-semibold mt-2">Esponja Flat Blend</h3>
          <a href="https://www.brankabeauty.com.br/" target="_blank" class="text-pink-600 hover:underline">Comprar Agora</a>
        </div>
        <div class="bg-gray-100 p-4 rounded">
          <img src="https://via.placeholder.com/150?text=Mascara" alt="M√°scara Big Panda" class="w-full h-40 object-cover rounded">
          <h3 class="text-lg font-semibold mt-2">M√°scara Big Panda</h3>
          <a href="https://www.brankabeauty.com.br/" target="_blank" class="text-pink-600 hover:underline">Comprar Agora</a>
        </div>
        <div class="bg-gray-100 p-4 rounded">
          <img src="https://via.placeholder.com/150?text=Paleta" alt="Paleta Blush" class="w-full h-40 object-cover rounded">
          <h3 class="text-lg font-semibold mt-2">Paleta Blush</h3>
          <a href="https://www.brankabeauty.com.br/" target="_blank" class="text-pink-600 hover:underline">Comprar Agora</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Virtual Try-On -->
  <section id="tryon" class="py-12 bg-pink-50">
    <div class="container mx-auto text-center">
      <h2 class="text-2xl font-bold mb-6">Experimente Maquiagem Virtual</h2>
      <p class="mb-4">Teste um batom vermelho em tempo real!</p>
      <div class="relative inline-block">
        <img id="tryonImage" src="https://via.placeholder.com/300?text=Seu+Rosto" alt="Try-On" class="w-64 h-64 rounded">
        <div id="makeupOverlay" class="absolute top-0 left-0 w-64 h-64 hidden">
          <svg viewBox="0 0 300 300" class="absolute bottom-10 left-1/2 transform -translate-x-1/2">
            <rect x="100" y="200" width="100" height="30" fill="red" opacity="0.7"/>
          </svg>
        </div>
      </div>
      <button id="tryOnBtn" class="bg-pink-600 text-white px-4 py-2 rounded mt-4">Testar Batom</button>
    </div>
  </section>

  <!-- Beauty Quiz -->
  <section id="quiz" class="py-12 bg-white">
    <div class="container mx-auto text-center">
      <h2 class="text-2xl font-bold mb-6">Quiz: Qual √© o Seu Estilo?</h2>
      <div id="quizContainer" class="max-w-md mx-auto">
        <p id="question" class="mb-4">Qual √© o seu tipo de pele?</p>
        <div id="options" class="space-y-2">
          <button class="quizBtn bg-pink-200 px-4 py-2 rounded w-full" data-option="0">Oleosa</button>
          <button class="quizBtn bg-pink-200 px-4 py-2 rounded w-full" data-option="1">Seca</button>
          <button class="quizBtn bg-pink-200 px-4 py-2 rounded w-full" data-option="2">Mista</button>
        </div>
      </div>
      <div id="quizResult" class="hidden mt-6">
        <h3 class="text-xl font-bold mb-4">Seu Resultado</h3>
        <p id="resultText"></p>
        <a href="https://www.brankabeauty.com.br/" target="_blank" class="bg-pink-600 text-white px-4 py-2 rounded mt-4 inline-block">Compre Agora</a>
      </div>
    </div>
  </section>

  <!-- Instagram Feed (Mock) -->
  <section class="py-12 bg-pink-100">
    <div class="container mx-auto text-center">
      <h2 class="text-2xl font-bold mb-6">Siga-nos no Instagram</h2>
      <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
        <img src="https://via.placeholder.com/200?text=Insta+1" alt="Instagram Post" class="w-full h-40 object-cover rounded">
        <img src="https://via.placeholder.com/200?text=Insta+2" alt="Instagram Post" class="w-full h-40 object-cover rounded">
        <img src="https://via.placeholder.com/200?text=Insta+3" alt="Instagram Post" class="w-full h-40 object-cover rounded">
      </div>
      <a id="instagramFeedLink" href="https://www.instagram.com/brankabeauty/" target="_blank" class="bg-pink-600 text-white px-4 py-2 rounded mt-6 inline-block">Ver Mais</a>
    </div>
  </section>

  <!-- Reviews Carousel -->
  <section class="py-12 bg-white">
    <div class="container mx-auto text-center">
      <h2 class="text-2xl font-bold mb-6">O Que Nossos Clientes Dizem</h2>
      <div id="reviews" class="max-w-md mx-auto">
        <p class="italic">"Amo os produtos da Branka Beauty! Minha pele nunca esteve t√£o radiante!"</p>
        <p class="mt-2 font-semibold">- Ana, S√£o Paulo</p>
      </div>
      <div class="flex justify-center space-x-4 mt-4">
        <button id="prevReviewBtn" class="bg-pink-600 text-white px-4 py-2 rounded">‚Üê</button>
        <button id="nextReviewBtn" class="bg-pink-600 text-white px-4 py-2 rounded">‚Üí</button>
      </div>
    </div>
  </section>

  <!-- WhatsApp Chat Button -->
  <a id="whatsappLink" href="https://wa.me/5511999999999?text=Oi%2C%20quero%20saber%20mais%20sobre%20a%20Branka%20Beauty!" target="_blank" class="fixed bottom-4 right-4 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600">
    üí¨ WhatsApp
  </a>

  <!-- Footer -->
  <footer class="bg-pink-600 text-white p-4 text-center">
    <p>¬© 2025 Branka Beauty. Todos os direitos reservados.</p>
  </footer>

  <script>
    // Debug logging
    console.log('PWA loaded at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));

    // Virtual Try-On
    function toggleTryOn() {
      try {
        const overlay = document.getElementById('makeupOverlay');
        if (overlay) {
          overlay.classList.toggle('hidden');
          console.log('Try-on toggled at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', !overlay.classList.contains('hidden'));
        } else {
          console.error('Makeup overlay not found at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
        }
      } catch (error) {
        console.error('Error in toggleTryOn at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', error);
      }
    }

    // Beauty Quiz
    const quizQuestions = [
      {
        question: "Qual √© o seu tipo de pele?",
        options: ["Oleosa", "Seca", "Mista"],
        next: [1, 2, 3]
      },
      {
        question: "Qual look voc√™ prefere?",
        options: ["Natural", "Glam", "Colorido"],
        result: ["Recomendamos a Base Leve da Branka Beauty para um look natural!", "Experimente o Batom Vermelho Branka Beauty para um toque glam!", "A Paleta de Sombras Dalla √© perfeita para looks coloridos!"]
      },
      {
        question: "Qual look voc√™ prefere?",
        options: ["Natural", "Glam", "Colorido"],
        result: ["Recomendamos a Base Leve da Branka Beauty para um look natural!", "Experimente o Batom Vermelho Branka Beauty para um toque glam!", "A Paleta de Sombras Dalla √© perfeita para looks coloridos!"]
      },
      {
        question: "Qual look voc√™ prefere?",
        options: ["Natural", "Glam", "Colorido"],
        result: ["Recomendamos a Base Leve da Branka Beauty para um look natural!", "Experimente o Batom Vermelho Branka Beauty para um toque glam!", "A Paleta de Sombras Dalla √© perfeita para looks coloridos!"]
      }
    ];

    let currentQuestion = 0;

    function answerQuiz(optionIndex) {
      try {
        const quizContainer = document.getElementById('quizContainer');
        const quizResult = document.getElementById('quizResult');
        const resultText = document.getElementById('resultText');
        const nextQuestion = quizQuestions[currentQuestion].next ? quizQuestions[currentQuestion].next[optionIndex] : null;

        if (nextQuestion !== null && nextQuestion !== undefined) {
          currentQuestion = nextQuestion;
          document.getElementById('question').textContent = quizQuestions[currentQuestion].question;
          const optionsDiv = document.getElementById('options');
          if (optionsDiv) {
            optionsDiv.innerHTML = quizQuestions[currentQuestion].options.map((opt, i) => `
              <button class="quizBtn bg-pink-200 px-4 py-2 rounded w-full" data-option="${i}">${opt}</button>
            `).join('');
            attachQuizListeners();
            console.log('Quiz question updated at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', currentQuestion);
          } else {
            console.error('Options div not found at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
          }
        } else {
          quizContainer.classList.add('hidden');
          quizResult.classList.remove('hidden');
          resultText.textContent = quizQuestions[currentQuestion].result[optionIndex];
          console.log('Quiz result displayed at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', resultText.textContent);
        }
      } catch (error) {
        console.error('Error in answerQuiz at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', error);
      }
    }

    function attachQuizListeners() {
      try {
        const buttons = document.querySelectorAll('.quizBtn');
        if (buttons.length > 0) {
          buttons.forEach(button => {
            button.addEventListener('click', (e) => {
              e.preventDefault();
              const optionIndex = parseInt(button.getAttribute('data-option'));
              answerQuiz(optionIndex);
            });
          });
          console.log('Quiz listeners attached at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', buttons.length);
        } else {
          console.error('No quiz buttons found at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
        }
      } catch (error) {
        console.error('Error attaching quiz listeners at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', error);
      }
    }

    // Reviews Carousel
    const reviews = [
      { text: "Amo os produtos da Branka Beauty! Minha pele nunca esteve t√£o radiante!", author: "Ana, S√£o Paulo" },
      { text: "O atendimento √© incr√≠vel e as maquiagens s√£o de alta qualidade!", author: "Clara, Rio de Janeiro" },
      { text: "Minha marca favorita para looks do dia a dia!", author: "Mariana, Belo Horizonte" }
    ];
    let currentReview = 0;

    function updateReview() {
      try {
        const reviewsDiv = document.getElementById('reviews');
        if (reviewsDiv) {
          reviewsDiv.innerHTML = `
            <p class="italic">"${reviews[currentReview].text}"</p>
            <p class="mt-2 font-semibold">- ${reviews[currentReview].author}</p>
          `;
          console.log('Review updated at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', currentReview);
        } else {
          console.error('Reviews div not found at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
        }
      } catch (error) {
        console.error('Error in updateReview at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', error);
      }
    }

    function prevReview() {
      currentReview = (currentReview - 1 + reviews.length) % reviews.length;
      updateReview();
    }

    function nextReview() {
      currentReview = (currentReview + 1) % reviews.length;
      updateReview();
    }

    // Attach event listeners
    document.addEventListener('DOMContentLoaded', () => {
      try {
        console.log('DOM loaded, attaching listeners at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
        const tryOnBtn = document.getElementById('tryOnBtn');
        const prevReviewBtn = document.getElementById('prevReviewBtn');
        const nextReviewBtn = document.getElementById('nextReviewBtn');

        if (tryOnBtn) tryOnBtn.addEventListener('click', toggleTryOn);
        else console.error('Try-on button not found at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
        if (prevReviewBtn) prevReviewBtn.addEventListener('click', prevReview);
        else console.error('Previous review button not found at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
        if (nextReviewBtn) nextReviewBtn.addEventListener('click', nextReview);
        else console.error('Next review button not found at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }));
        attachQuizListeners();
        updateReview(); // Initialize review display
      } catch (error) {
        console.error('Error attaching listeners at', new Date().toLocaleString('pt-BR', { timeZone: 'America/Sao_Paulo' }), ':', error);
      }
    });
  </script>
</body>
</html>